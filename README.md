# 🤖 NewsReaderBot (نسخه ۲.۰)

⚠️ توجه: این ربات هنوز منتشر نشده و در حال توسعه است. به‌محض آماده‌سازی، لینک دسترسی به ربات در همین صفحه قرار خواهد گرفت.

## 🧭 معرفی

یک ربات تلگرام هوشمند برای دریافت اخبار شخصی‌سازیِشده از [NewsAPI.org](https://newsapi.org/).  نسخهِ 2.0 معرفیِ سازوکار موضوع/منبع هرمی و رابط کاربریِ تعاملی دو مرحله‌ای و مدیریت پیشرفتهِ ترجیحات را فراهم می‌کند.

---

## 🌟 ویژگی‌های کلیدی

* دریافت اخبار مرتبط با **موضوعات دلخواه کاربر**
* امکان **انتخاب منابع خبری** معتبر مانند CNN، BBC، NYTimes، و...
* رابط کاربری تعاملی با **دکمه‌های دو سطحی** برای مدیریت ترجیحات
* دسته‌بندی موضوعات و منابع به صورت گروهی و قابل پیمایش
* فیلتر اخبار به زبان انگلیسی
* پشتیبانی از **SQLAlchemy ORM** و **مهاجرت پایگاه داده با Alembic**
* معماری مقیاس‌پذیر و قابل گسترش

---
## 🧱 ساختار پایگاه داده

| جدول           | شرح                                             |
| -------------- | ----------------------------------------------- |
| `users`        | اطلاعات کاربران (شناسه، نام، فعالیت اخیر و...)  |
| `user_topics`  | ترجیحات موضوعی کاربران (با دسته‌بندی)           |
| `user_sources` | ترجیحات منابع خبری برای هر کاربر (فعال/غیرفعال) |

---

## 🗂 دسته‌بندی موضوعات و منابع خبری

### 🧠 دسته‌های موضوعی

| گروه اصلی        | نمونه موضوعات                      |
| ---------------- | ---------------------------------- |
| فناوری و دیجیتال | AI، Programming، Cybersecurity     |
| علم و آموزش      | Science، Health، Space             |
| سیاست و اقتصاد   | Politics، Economy، Business        |
| فرهنگ و رسانه    | Movies، Music، Entertainment       |
| اجتماع           | Human Rights، Society، Immigration |
| ورزش و بازی      | Football، Sports، Gaming           |
| منطقه‌ای         | Iran News، US News، Middle East    |

### 🌐 دسته‌های منابع خبری

| گروه منابع          | نمونه وب‌سایت‌ها                    |
| ------------------- | ----------------------------------- |
| بین‌المللی          | CNN, BBC, NYTimes, Reuters          |
| فناوری              | The Verge, TechCrunch, WIRED        |
| سیاست آمریکا        | Politico, Fox News, NBC             |
| خاورمیانه (English) | Al-Monitor, Arab News, Tehran Times |
---
### 🧰 پیش‌نیازها

* Python 3.8 یا بالاتر
* ساخت ربات در [BotFather](https://t.me/BotFather)
*  دریافت API Key از [NewsAPI](https://newsapi.org/)
---

### ⚙️ نصب و راه‌اندازی

```bash
# نصب کتابخانه‌ها
pip install -r requirements.txt

# ساخت فایل env
# محتوا:
API_KEY=کلید_API_شما
BOT_TOKEN=توکن_ربات_شما

# اجرای اسکریپت اصلی
python src/main.py

```
---
## 📱 دستورات ربات
| دستور      | عملکرد                              |
| ---------- | ----------------------------------- |
| `/start`   | شروع و ثبت نام کاربر                |
| `/help`    | نمایش راهنمای دستورات               |
| `/news`    | دریافت اخبار شخصی‌سازی‌شده          |
| `/topics`  | مدیریت موضوعات خبری (دسته‌بندی شده) |
| `/sources` | مدیریت منابع خبری (دسته‌بندی شده)   |
| `/info`    | نمایش ترجیحات فعلی                  |

---
## 📸 نمونه رابط کاربری

![نمونه پیام تلگرام](preview.gif)


### 🧪 تست
برای تست عملکرد پایگاه داده:

```bash
python test_db.py

```

---


### 🔄 مهاجرت از نسخه قدیمی
1.پشتیبان‌گیری از دیتابیس قدیمی:
```bash
cp subscribers.db subscribers_backup.db
```
2.نصب وابستگی‌های جدید:
```bash
pip install sqlalchemy alembic

```
3.اجرای تنظیمات جدید:
```bash
python setup.py

```
4.راه‌اندازی دوباره ربات و ارسال /start توسط کاربران

---


<!-- * 📬 [ربات تلگرام پروژه](https://t.me/News_AriaBot) -->


## 🛡 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

MIT License  
Copyright (c) 2025 Aria Aramesh

